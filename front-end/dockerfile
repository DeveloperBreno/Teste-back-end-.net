FROM chainguard/node-lts:latest
WORKDIR /app

# Install npm
RUN apk add --no-cache npm

# Install project dependencies
COPY package*.json ./

RUN ls
RUN npm install
# Copia os arquivos do projeto
COPY . .

# Builda o projeto Angular para produção
RUN ng build --prod



# Copia os arquivos buildados para a pasta dist
#COPY dist/angular-estrutura /usr/share/nginx/html

# Instala o Nginx
#RUN apk add --no-cache nginx

# Configura o Nginx para servir os arquivos estáticos
#COPY nginx.conf /etc/nginx/nginx.conf

#EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
